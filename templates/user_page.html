<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ user.first_name }} {{ user.last_name }} - OPF Community Database</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <!-- Header -->
        <header class="text-white py-4 mb-4">
            <div class="container-fluid px-4">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1 class="mb-0">
                            <div style="display: inline-block; vertical-align: middle;">
                                <img src="{{ url_for('static', filename='media/OPF_primary_logo.png') }}" alt="OnePointFive" style="height: 49.5px; width: auto; display: block;">
                                <small style="display: block; text-align: left; margin-top: 2px; font-size: 0.63em; color: black;">Community Database</small>
                            </div>
                        </h1>
                        <p class="mb-0 mt-2" style="color: black; font-family: 'Azeret Mono', monospace; font-size: 1.0em;">Tools and interfaces for OPF's community network</p>
                    </div>
                </div>
            </div>
        </header>

        <!-- User Card -->
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="card result-card">
                        <div class="card-header">
                            <h5 class="card-title mb-0" style="font-family: 'Inter Tight', sans-serif; font-weight: 400;">
                                <i class="fas fa-user me-2"></i>
                                {{ user.first_name }} {{ user.last_name }}
                            </h5>
                        </div>
                        <div class="card-body">
                            <div class="result-fields" style="font-family: 'Inter Tight', sans-serif; font-weight: 400;">
                                {% if user.email %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-envelope field-icon"></i>Email
                                    </div>
                                    <div class="field-value">
                                        <a href="mailto:{{ user.email }}" target="_blank">{{ user.email }}</a>
                                    </div>
                                </div>
                                {% endif %}
                                
                                {% if user.email_other %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-envelope field-icon"></i>Other Email
                                    </div>
                                    <div class="field-value">
                                        <a href="mailto:{{ user.email_other }}" target="_blank">{{ user.email_other }}</a>
                                    </div>
                                </div>
                                {% endif %}
                                
                                {% if user.linkedin %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fab fa-linkedin field-icon"></i>LinkedIn
                                    </div>
                                    <div class="field-value">
                                        <a href="{{ user.linkedin }}" target="_blank">{{ user.linkedin }}</a>
                                    </div>
                                </div>
                                {% endif %}
                                
                                {% if user.current_job %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-briefcase field-icon"></i>Current Job
                                    </div>
                                    <div class="field-value">{{ user.current_job }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.current_company %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-building field-icon"></i>Current Company
                                    </div>
                                    <div class="field-value">{{ user.current_company }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.years_xp %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-clock field-icon"></i>Years Experience
                                    </div>
                                    <div class="field-value">{{ user.years_xp }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.years_sustainability_xp %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-leaf field-icon"></i>Sustainability Experience
                                    </div>
                                    <div class="field-value">{{ user.years_sustainability_xp }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.linkedin_skills %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-tools field-icon"></i>LinkedIn Skills
                                    </div>
                                    <div class="field-value">
                                        <div class="skills-tags">
                                            {% for skill in user.linkedin_skills.split(',') %}
                                                <span class="skill-tag">{{ skill.strip() }}</span>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                                
                                {% if user.key_competencies %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-star field-icon"></i>Key Competencies
                                    </div>
                                    <div class="field-value">
                                        <div class="skills-tags">
                                            {% for competency in user.key_competencies.split(',') %}
                                                <span class="skill-tag">{{ competency.strip() }}</span>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                                
                                {% if user.key_sectors %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-industry field-icon"></i>Key Sectors
                                    </div>
                                    <div class="field-value">
                                        <div class="skills-tags">
                                            {% for sector in user.key_sectors.split(',') %}
                                                <span class="skill-tag">{{ sector.strip() }}</span>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                                
                                {% if user.linkedin_summary %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-file-alt field-icon"></i>LinkedIn Summary
                                    </div>
                                    <div class="field-value">{{ user.linkedin_summary }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.executive_summary %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-user-tie field-icon"></i>Executive Summary
                                    </div>
                                    <div class="field-value">{{ user.executive_summary }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.resume %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-file-pdf field-icon"></i>Resume
                                    </div>
                                    <div class="field-value">
                                        <div class="resume-toggle">
                                            <button class="btn btn-sm btn-outline-secondary" onclick="toggleResume('user-resume')">
                                                <i class="fas fa-eye me-1"></i>View Resume
                                            </button>
                                            <div id="user-resume" class="resume-content" style="display: none;">
                                                <div class="resume-text">
                                                    {{ user.resume | safe }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                                
                                {% if user.gender_identity %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-user field-icon"></i>Gender Identity
                                    </div>
                                    <div class="field-value">{{ user.gender_identity }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.race_ethnicity %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-users field-icon"></i>Race/Ethnicity
                                    </div>
                                    <div class="field-value">{{ user.race_ethnicity }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.lgbtqia %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-heart field-icon"></i>LGBTQIA+
                                    </div>
                                    <div class="field-value">{{ user.lgbtqia }}</div>
                                </div>
                                {% endif %}
                                
                                {% if user.source %}
                                <div class="field-group">
                                    <div class="field-label">
                                        <i class="fas fa-info-circle field-icon"></i>Source
                                    </div>
                                    <div class="field-value">{{ user.source }}</div>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted" style="font-family: 'Inter Tight', sans-serif; font-weight: 400;">
                                <i class="fas fa-map-marker-alt me-1"></i>
                                {% if user.city and user.country %}
                                    {{ user.city }}, {{ user.country }}
                                {% elif user.city %}
                                    {{ user.city }}
                                {% elif user.country %}
                                    {{ user.country }}
                                {% else %}
                                    Location not specified
                                {% endif %}
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function toggleResume(resumeId) {
            const resumeContent = document.getElementById(resumeId);
            const button = resumeContent.previousElementSibling;
            
            if (resumeContent.style.display === 'none') {
                resumeContent.style.display = 'block';
                button.innerHTML = '<i class="fas fa-eye-slash me-1"></i>Hide Resume';
            } else {
                resumeContent.style.display = 'none';
                button.innerHTML = '<i class="fas fa-eye me-1"></i>View Resume';
            }
        }
    </script>
</body>
</html>
